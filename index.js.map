{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst pixabayKey = '50818292-28c953def5feac0614fc2706b';\nconst url = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query) {\n  const params = {\n    key: pixabayKey,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  return axios.get(url, { params }).then(response => {\n    if (response.data.hits.length === 0) {\n      throw new Error(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    }\n    return response.data;\n  });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt', \n  captionDelay: 250,  \n});\n\nexport function createGallery(images) {\n  const markup = images\n    .map(img => {\n      return `\n        <li class=\"gallery-item\">\n          <a href=\"${img.largeImageURL}\">\n            <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n          </a>\n        <ul class=\"info\">\n  <li class=\"photo-info\">üëç <span class=\"span\">${img.likes}</span></li>\n  <li class=\"photo-info\">üëÅ <span class=\"span\">${img.views}</span></li>\n  <li class=\"photo-info\">üí¨ <span class=\"span\">${img.comments}</span></li>\n  <li class=\"photo-info\">‚¨áÔ∏è <span class=\"span\">${img.downloads}</span></li>\n</ul>\n        </li>\n      `;\n    })\n    .join('');\n  gallery.innerHTML += markup;\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden');\n}","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport {\n  clearGallery,\n  createGallery,\n  showLoader,\n  hideLoader,\n} from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault();\n  const query = event.target.elements[\"search-text\"].value.trim() ?? \"\";\n\n  if (query === \"\") {\n    iziToast.error({\n      title: \"Error!\",\n      message: \"Please enter a search query\",\n\t  position: \"topRight\",\n\t  backgroundColor: \"#f39c12\", \n\t});\n\tform.reset()\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: \"Error!\",\n          message: \"No images found\",\n\t\t  position: \"topRight\",\n\t\t  backgroundColor: \"#e74c3c\",\n\t\t});\n\t\tform.reset()\n        return;\n      }\n\n      createGallery(data.hits);\n      form.reset();\n    })\n    .catch(() => {\n      iziToast.error({\n        title: \"Error!\",\n        message: \"Failed to load images\",\n        position: \"topRight\",\n\t  });\n\t  form.reset()\n    })\n    .finally(hideLoader);\n});"],"names":["pixabayKey","url","getImagesByQuery","query","params","axios","response","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","img","clearGallery","showLoader","hideLoader","form","event","iziToast","data"],"mappings":"myBAEA,MAAMA,EAAa,qCACbC,EAAM,2BAEL,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,OAAOE,EAAM,IAAIJ,EAAK,CAAE,OAAAG,EAAQ,EAAE,KAAKE,GAAY,CACjD,GAAIA,EAAS,KAAK,KAAK,SAAW,EAChC,MAAM,IAAI,MACR,0EACR,EAEI,OAAOA,EAAS,IACpB,CAAG,CACH,CCnBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA;AAAA,qBAEQA,EAAI,aAAa;AAAA,wBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,iDAGTA,EAAI,KAAK;AAAA,iDACTA,EAAI,KAAK;AAAA,iDACTA,EAAI,QAAQ;AAAA,iDACZA,EAAI,SAAS;AAAA;AAAA;AAAA,OAIzD,EACA,KAAK,EAAE,EACVP,EAAQ,WAAaM,EACrBJ,EAAS,QAAO,CAClB,CAEO,SAASM,GAAe,CAC7BR,EAAQ,UAAY,EACtB,CAEO,SAASS,GAAa,CAC3BR,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASS,GAAa,CAC3BT,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCjCA,MAAMU,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMhB,EAAQgB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,KAAM,GAAI,GAEnE,GAAIhB,IAAU,GAAI,CAChBiB,EAAS,MAAM,CACb,MAAO,SACP,QAAS,8BACZ,SAAU,WACV,gBAAiB,SACpB,CAAE,EACDF,EAAK,MAAO,EACT,MACD,CAEDH,IACAC,IAEAd,EAAiBC,CAAK,EACnB,KAAKkB,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,SACP,QAAS,kBACf,SAAU,WACV,gBAAiB,SACrB,CAAG,EACDF,EAAK,MAAO,EACN,MACD,CAEDP,EAAcU,EAAK,IAAI,EACvBH,EAAK,MAAK,CAChB,CAAK,EACA,MAAM,IAAM,CACXE,EAAS,MAAM,CACb,MAAO,SACP,QAAS,wBACT,SAAU,UAClB,CAAI,EACDF,EAAK,MAAO,CACf,CAAK,EACA,QAAQD,CAAU,CACvB,CAAC"}